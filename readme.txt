== Установка/Обновление ==

<h3 style="text-align: center;">Установка:</h3>
Т.к. это дополнение для WordPress плагина <a href="https://codeseller.ru/groups/plagin-wp-recall-lichnyj-kabinet-na-wordpress/" target="_blank">WP-Recall</a>, то оно устанавливается через <a href="https://codeseller.ru/obshhie-svedeniya-o-dopolneniyax-wp-recall/" target="_blank"><strong>менеджер дополнений WP-Recall</strong></a>.

1. В админке вашего сайта перейдите на страницу "WP-Recall" -> "Дополнения" и в самом верху нажмите на кнопку "Обзор", выберите .zip архив дополнения на вашем пк и нажмите кнопку "Установить".
2. В списке загруженных дополнений, на этой странице, найдите это дополнение, наведите на него курсор мыши и нажмите кнопку "Активировать". Или выберите чекбокс и в выпадающем списке действия выберите "Активировать". Нажмите применить.


<h3 style="text-align: center;">Обновление:</h3>
Дополнение поддерживает <a href="https://codeseller.ru/avtomaticheskie-obnovleniya-dopolnenij-plagina-wp-recall/" target="_blank">автоматическое обновление</a> - два раза в день отправляются вашим сервером запросы на обновление.
Если в течении суток вы не видите обновления (а на странице дополнения вы видите что версия вышла новая), советую ознакомиться с этой <a href="https://codeseller.ru/post-group/rabota-wordpress-krona-cron-prinuditelnoe-vypolnenie-kron-zadach-dlya-wp-recall/" target="_blank">статьёй</a>



== Настройки ==
<h2>Настройки партнерской ссылки</h2>
В админке одна настройка: "WP-Recall" -> "Настройки" -> "Настройки Seller on CodeSeller" -> "Впишите ID партнера"
Позволяет вписать свою партнерскую ссылку и получать % с продаж по вашей реф ссылке. <a href="https://codeseller.ru/reklamiruj-codeseller-ru-stanovis-partnerom/" target="_blank">Подробней</a>
Вписывать туда число: ваш id зарегистрированного юзера с сервиса CodeSeller. 


<strong>Как получить id?</strong>
1. Заходим на кодеселлер (обязательно залогиненным)
2. Выбираем товар, что участвует в партнерской программе и переходим на его страницу
3. Слева вверху нажимаем "Получить партнерскую ссылку"
4. Копируем первое число (второе id товара. Его вписывать не нужно)
<a href="https://yadi.sk/i/eQeYmd1w3QyiT7" target="_blank">Скриншот</a> 


<h2>Использование шорткода</h2>
В нужном месте впишите шорткод (это может быть текст записи - например после обзора - для того чтобы расположить партнерский блок
Или его можно вписать в виджет "Текст" и расположить в сайдбаре вашего сайта)

<code>[codeseller_product]</code> - шорткод для вывода товаров (если вписать только этот шорткод - мы получим 21 товар, отсортированный по обновлению)

<h3>Дополнительные атрибуты шорткода:</h3>
Шорткод может принимать атрибуты:
<strong>slug</strong> - вписывайте, через запятую, слаги (slug) товара (название папки дополнения. Например у дополнения Hello Private Message слаг: hello-private-message)
<strong>template</strong> - (по умолчанию list) используемый для вывода шаблон. Доступны так же full-width и card
<strong>disable_ref</strong> - (по умолчанию 0) ставьте 1, чтобы отключить партнерскую ссылку (полезно для авторов дополнений)
<strong>filter</strong> - (по умолчанию 0) - ставьте 1, чтобы включить над товарами кнопки js-фильтра
<strong>author</strong> - id автора дополнений (полезно для авторов дополнений)
<strong>sort</strong> - начальная сортировка списка. Доступные значения update, active-install, downloads, price. По умолчанию сервис отдает по времени обновления допа
<strong>premium</strong> - ставьте 1, чтобы выбирать товары только с ценой (премиум дополнения)
<strong>random</strong> - ставьте 1, чтобы выводить дополнения в случайном порядке
<strong>number</strong> - предельное количество дополнений в удаленном запросе (по умолчанию сервис отдает 21)
<strong>limit</strong> - но выводить на экран только это значение (полезно для random)

<h4>Примеры:</h4>
1. допустим мы делаем обзор фриланс биржи и в конце записи хотим разместить блок с актуальной ценой на нее и чтобы была включена партнерская ссылка для заработка по партнерской программе.
Шорткод для этого такой:
<code>[codeseller_product template="full-width" slug="freelance"]</code>
- Внимание! Если вы затрудняетесь какой slug вписать для товара - вы всегда можете задать этот вопрос автору дополнения в комментариях или ЛС

2. Вывести пару случайных дополнений в сайдбаре.
Для этого впишем к примеру 5 slug, поставим в атрибуте рандом, но для вывода поставим 2:
<code>[codeseller_product template="card" slug="freelance,user-info-tab,partners-system,users-market,invest-system" random="1" limit="2"]</code>
- мы запросили нужные нам 5 товаров и ротируем их в случайном порядке выводя по 2

3. Вывести все товары автора и вверху показать js-фильтр
На примере моего аккаунта:
<code>[codeseller_product author="44" filter="1"]</code>
- но сервис кодеселлер по умолчанию отдаст нам только 21 товар. И в этом списке он выведет по умолчанию допы по времени обновления
Снимем это ограничение, и выведем все мои дополнения отсортированные по цене:
<code>[codeseller_product author="44" filter="1" number="100" sort="price"]</code>


4. Если вы автор дополнения - выводить реф ссылку на самого себя нет смысла. Выведем свои товары отключив реф ссылку
<code>[codeseller_product author="44" filter="1" number="100" disable_ref="1"]</code>

5. Вывести все свои премиум дополнения в случайном порядке, отобразив 4-ре
<code>[codeseller_product author="44" template="card" number="100" disable_ref="1" premium="1" random="1" limit="4"]</code>

Таким образом мы можем получить нужный нам набор дополнений. Причем как для своего портфолио (свои дополнения), так и для продвижения по партнерской программе.




== FAQ ==
<h3>Принцип работы:</h3>

1. Есть настройка в админке - где вписывается ID партнера для формирования партнерской ссылки (можно отключить - смотри в вкладке "Настройки" доступные атрибуты шорткода)
2. Вписываете шорткод с атрибутами и можно сразу начинать работать

Дополнение, на основе сформированного шорткода, раз в час обращается к api сервиса codeseller. И кеширует полученные данные с удаленного сервера на час.
Админ может увидеть надпись (видна только ему) "Показаны актуальные данные" - это значит что данные только что пришли из сервиса кодеселлер
Эта же надпись показывается если вы используете предпросмотр записи из админки - пока вы настраиваете шорткод смысла кешировать данные нет.

Благодаря такому кешированию все происходит очень быстро - это не замедляет вашу страницу.

<h3>Разное:</h3>
Это дополнение использует шаблоны - вы с легкостью можете этим воспользоваться - кастомизировав под себя. Читайте <strong><a href="https://codeseller.ru/post-group/ispolzuem-funkcional-shablonov-v-plagine-wp-recall-spisok-shablonov/" target="_blank">тут</a></strong> как с ними работать.




<h3>ToDo:</h3>
Приоритет:
** <del>Переработать настройки, позволить выводить по автору или по слагу</del> - с версии v2.0
** <del>Возможность вписать партнерскую ссылку и в шорткоде ее отключать (по умолчанию включена будет) - позволит этому допу работать по партнерской программе</del> - с версии v2.0
** <del>Новый шаблон для вывода в одиночной записи - во всю ширину</del> - с версии v2.0

Второстепенно:
* Сейчас выводятся только дополнения к WP-Recall, в следующих версиях будет вывод вордпресс шаблонов и плагинов (api codeseller пока это не поддерживает)
* Вывод сводной статистики: Кол-во аддонов, плагинов и шаблонов (вкл/выкл)
* <del>Отключение фильтра и сортировки (у кого товаров мало - смысла в нем нет)</del> - с версии v2.0
* Кеширование миниатюр изображений товаров
* <del>Еще один шаблон вывода (возможность его выбора в атрибуте шорткода)</del> - с версии v2.0





== Changelog ==
= 2018-02-27 =
v2.1
* Исправлена ошибка в шаблоне list - появляющаяся когда только что загруженное дополнение в каталог CodeSeller еще не имело в значении кол-во активных установок
* Стили грузятся сверху.
* Проработана анимация появления при загрузке страницы. Теперь блоки появляются плавней, без дёрганья, в большинстве случаев (для full-width и list шаблонов)


= 2017-12-27 =
v2.0.1
* Небольшие css-фиксы


= 2017-12-26 =
v2.0
* Полностью переписан на ооп и поддерживает api codeseller
* Увы, 2 прошлых шорткода более не поддерживаются. Все заменилось новым одним. Смотри доступные атрибуты в вкладке "Настройки"
* Страница настроек содержит только одну опцию. Остальные убрал. Слаги дополнений теперь вписываются в шорткод
* Поддерживает формирование партнерской ссылки
* Новые атрибуты шорткода (вывод по автору, вывод по slug дополнения, выбор шаблона, отключение фильтра, отключение реф ссылки, возможность назначить начальную сортировку, вывод только премиум допов)
* Новый шаблон вывода (всего их 3)
* Новый принцип кеширования - использует реколл кеширование
* Благодаря новому шорткоду и новому принципу кеширования нет проблем как раньше - приходилось или ждать час или принудительно часовой крон дергать
* Анимация теперь берется из ядра WP-Recall


= 2017-12-23 =
v1.0
* Доп успешно прошел испытания. Присвоил ему версию 1.0.
Небольшая файловая реорганизация


= 2017-12-15 =
v0.3
* Внешние ссылки закрыты nofollow
* Исправлено: всплывающий блок в карточке рандомного товара теперь не ловит курсор. Были залипания



= 2017-10-19 =
v0.2
* Добавлены новые настройки позволяющие грузить ресурсы (js,css) только там, где необходимо.
* Добавлен шорткод рандомного вывода 4-х премиум (с ценой) дополнений. Шорткод [ofm_addons_random]
* Если папка xml-файлов была удалена, то при проверке обновления вп-кроном он ее создаст заново.
* Исправлена ошибка не вывода текста в data атрибуте (по ховеру всплывающий блок) если он содержит кавычки
* Изменения в верстке и стилях
* TimeLapse анимация


= 2017-02-27 =
v0.1.1
* Подправил некоторые стили


= 2016-09-22 =
v0.1
* Beta Release




== Поддержка и контакты ==

* Поддержка осуществляется в рамках текущего функционала дополнения
* При возникновении проблемы, создайте соотвествующую тему на <a href="https://codeseller.ru/forum/product-13291/" target="_blank">форуме поддержки товара</a>
* Если вам нужна доработка под ваши нужды - вы можете обратиться ко мне в <a href="https://codeseller.ru/author/otshelnik-fm/?tab=chat" target="_blank">ЛС</a> с техзаданием на платную доработку.

Все мои работы опубликованы <a href="https://otshelnik-fm.ru/?p=2562" target="_blank">на моём сайте</a> и в каталоге магазина <a href="https://codeseller.ru/author/otshelnik-fm/?tab=publics&subtab=type-products" target="_blank">CodeSeller.ru</a>
